# Milestone 1 â€” Ingestion CLI, transcripts, and summaries

This milestone introduces the first end-to-end ingestion workflow for Podcast Plow.

## Highlights

- Docker Compose now builds an image with shared dependencies for the FastAPI server and the ingestion CLI.
- A new `manage.py` Typer application discovers podcasts from RSS feeds, downloads transcripts with simple heuristics, and produces heuristic TL;DR plus narrative summaries.
- Minimal heuristics harvest long-form text from official show pages when available and persist the data to `transcript` and `episode_summary` tables.

## Usage

1. Update dependencies and rebuild containers:

   ```bash
   cd infra
   docker compose down
   docker compose up -d --build
   ```

2. Add one RSS feed URL per line to `infra/feeds.txt`.
3. Discover new podcasts and episodes:

   ```bash
   docker compose run --rm ingest python manage.py discover --feeds /app/../infra/feeds.txt
   ```

4. Fetch transcripts for recent episodes:

   ```bash
   docker compose run --rm ingest python manage.py fetch-transcripts --limit 10
   ```

5. Generate summaries:

   ```bash
   docker compose run --rm ingest python manage.py summarize --limit 10
   ```

6. The FastAPI server exposes summaries at `GET /episodes/{id}`.

These steps populate at least ten episodes, fetch transcripts from official show pages when possible, and produce TL;DR plus narrative summaries visible via the API.
